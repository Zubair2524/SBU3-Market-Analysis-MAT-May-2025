<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pharma Dashboard - MAT May 2025</title>
    <!-- Including necessary libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prop-types/15.8.1/prop-types.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.2/babel.min.js"></script>
    <script src="https://unpkg.com/papaparse@latest/papaparse.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/recharts/2.15.0/Recharts.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/typography@0.5.10/dist/typography.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Tailwind CSS setup */
        body {
            font-family: 'Inter', Arial, sans-serif;
            min-height: 100vh;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
        }
        ::-webkit-scrollbar-thumb {
            background: #ffd700;
            border-radius: 4px;
        }
        /* Glassmorphic styles for cards */
        .glassmorphic {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 20px;
            transition: all 0.3s ease;
        }
        .glassmorphic:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 40px rgba(0, 0, 0, 0.2);
        }
        /* Clickable chart elements */
        .chart-bar, .chart-pie, .chart-area, .table-row {
            cursor: pointer;
            transition: opacity 0.2s ease;
        }
        .chart-bar:hover, .chart-pie:hover, .chart-area:hover, .table-row:hover {
            opacity: 0.8;
        }
        /* Custom dropdown styles */
        select {
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%23ffffff' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.5rem center;
            background-size: 1.5em;
        }
        /* Search input style */
        input[type="text"] {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            padding: 8px;
            color: #ffffff;
        }
        input[type="text"]:: attorno

System: You are Grok 3 built by xAI.

The response was cut off due to reaching the maximum token limit. I'll provide a complete and enriched version of the HTML code with the requested features: theme selection, responsive design, clickable chart and table elements, dynamic filtering, a clear filters option, a searchable dropdown, calculated growth and market share, a molecule filter, and chart data labels. The artifact will retain the same artifact_id since it's an update to the provided code.

<xaiArtifact artifact_id="dde43a48-c418-4f1b-bb37-5c4e8fd21674" artifact_version_id="d7d479a6-49e1-43b6-a3d9-651faa301b0c" title="index.html" contentType="text/html">
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pharma Dashboard - MAT May 2025</title>
    <!-- Including necessary libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prop-types/15.8.1/prop-types.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.2/babel.min.js"></script>
    <script src="https://unpkg.com/papaparse@latest/papaparse.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/recharts/2.15.0/Recharts.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', Arial, sans-serif;
            min-height: 100vh;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        .glassmorphic {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 20px;
            transition: all 0.3s ease;
        }
        .glassmorphic:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 40px rgba(0, 0, 0, 0.2);
        }
        .chart-bar, .chart-pie, .chart-area, .table-row {
            cursor: pointer;
            transition: opacity 0.2s ease;
        }
        .chart-bar:hover, .chart-pie:hover, .chart-area:hover, .table-row:hover {
            opacity: 0.8;
        }
        select {
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%23ffffff' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.5rem center;
            background-size: 1.5em;
        }
        input[type="text"] {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            padding: 8px;
            color: #ffffff;
        }
        input[type="text"]::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
        }
        ::-webkit-scrollbar-thumb {
            background: #ffd700;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;
        const { createRoot } = ReactDOM;
        const {
            BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer,
            PieChart, Pie, Cell, AreaChart, Area, LabelList
        } = Recharts;

        const COLORS = ['#ffd700', '#ffaa00', '#8b5cf6', '#ffffff', '#10b981', '#ef4444'];

        // Themes configuration
        const themes = {
            dark: {
                background: 'bg-gradient-to-br from-indigo-900 to-blue-900',
                text: 'text-white',
                button: 'bg-gradient-to-r from-yellow-400 to-yellow-600 text-gray-900',
                select: 'bg-gray-800/50 text-red-500 border-gray-600',
            },
            light: {
                background: 'bg-gradient-to-br from-gray-100 to-gray-300',
                text: 'text-gray-900',
                button: 'bg-gradient-to-r from-blue-400 to-blue-600 text-white',
                select: 'bg-white/50 text-blue-700 border-blue-300',
            },
            neon: {
                background: 'bg-gradient-to-br from-pink-900 to-purple-900',
                text: 'text-white',
                button: 'bg-gradient-to-r from-pink-400 to-purple-400 text-white',
                select: 'bg-purple-800/50 text-pink-300 border-purple-600',
            }
        };

        const SearchableDropdown = ({ label, options, value, onChange, name }) => {
            const [search, setSearch] = useState('');
            const filteredOptions = options.filter(opt => 
                opt.toLowerCase().includes(search.toLowerCase())
            );

            return (
                <div className="relative">
                    <label className="mr-2 text-sm font-medium">{label}:</label>
                    <input
                        type="text"
                        placeholder={`Search ${label}...`}
                        className="w-full p-2 mb-2 rounded"
                        value={search}
                        onChange={(e) => setSearch(e.target.value)}
                    />
                    <select
                        value={value}
                        onChange={(e) => onChange(e.target.value, name)}
                        className="w-full p-2 rounded border"
                    >
                        {filteredOptions.map(option => (
                            <option key={option} value={option}>{option}</option>
                        ))}
                    </select>
                </div>
            );
        };

        const Dashboard = () => {
            const [data, setData] = useState([]);
            const [selectedCategory, setSelectedCategory] = useState('All');
            const [selectedBrand, setSelectedBrand] = useState('All');
            const [selectedCorporate, setSelectedCorporate] = useState('All');
            const [selectedMolecule, setSelectedMolecule] = useState('All');
            const [categories, setCategories] = useState([]);
            const [brands, setBrands] = useState([]);
            const [corporates, setCorporates] = useState([]);
            const [molecules, setMolecules] = useState([]);
            const [loading, setLoading] = useState(true);
            const [error, setError] = useState(null);
            const [theme, setTheme] = useState('dark');

            useEffect(() => {
                fetch('./data.csv')
                    .then(response => {
                        if (!response.ok) throw new Error('Failed to fetch data.csv');
                        return response.text();
                    })
                    .then(csvData => {
                        Papa.parse(csvData, {
                            header: true,
                            skipEmptyLines: true,
                            dynamicTyping: false,
                            transformHeader: header => header.trim().replace(/^"|"$/g, ''),
                            transform: (value, header) => value.trim().replace(/^"|"$/g, ''),
                            complete: (results) => {
                                const cleanedData = results.data.map(row => {
                                    const cleaned = {};
                                    Object.keys(row).forEach(key => {
                                        let value = row[key];
                                        if (typeof value === 'string') {
                                            value = value.trim();
                                            if (!isNaN(value) && value !== '') {
                                                value = parseFloat(value);
                                            }
                                        }
                                        cleaned[key.trim().replace(/^"|"$/g, '')] = value;
                                    });
                                    // Calculate growth
                                    cleaned['Growth Value 25'] = row['Value 24'] ? 
                                        ((row['Value 25'] - row['Value 24']) / row['Value 24'] * 100).toFixed(2) : 0;
                                    cleaned['Growth Unit 25'] = row['Unit 24'] ? 
                                        ((row['Unit 25'] - row['Unit 24']) / row['Unit 24'] * 100).toFixed(2) : 0;
                                    return cleaned;
                                }).filter(row => Object.values(row).some(val => val !== '' && val != null));

                                // Calculate market share
                                const categoryTotals = {};
                                cleanedData.forEach(row => {
                                    if (!categoryTotals[row.Category]) {
                                        categoryTotals[row.Category] = { value: 0, unit: 0 };
                                    }
                                    categoryTotals[row.Category].value += parseFloat(row['Value 25']) || 0;
                                    categoryTotals[row.Category].unit += parseFloat(row['Unit 25']) || 0;
                                });

                                cleanedData.forEach(row => {
                                    row['Share 25'] = categoryTotals[row.Category] ? 
                                        ((row['Value 25'] / categoryTotals[row.Category].value) * 100).toFixed(2) : 0;
                                    row['Share Unit 25'] = categoryTotals[row.Category] ? 
                                        ((row['Unit 25'] / categoryTotals[row.Category].unit) * 100).toFixed(2) : 0;
                                });

                                setData(cleanedData);
                                setCategories(['All', ...new Set(cleanedData.map(row => row.Category).filter(Boolean))]);
                                setBrands(['All', ...new Set(cleanedData.map(row => row.Brands).filter(Boolean))]);
                                setCorporates(['All', ...new Set(cleanedData.map(row => row.Corporate).filter(Boolean))]);
                                setMolecules(['All', ...new Set(cleanedData.map(row => row.Molecule).filter(Boolean))]);
                                setLoading(false);
                            },
                            error: (err) => {
                                setError('Error parsing CSV data');
                                setLoading(false);
                            }
                        });
                    })
                    .catch(err => {
                        setError('Error fetching CSV file');
                        setLoading(false);
                    });
            }, []);

            const handleFilterChange = (value, filterType) => {
                if (filterType === 'Category') setSelectedCategory(value);
                else if (filterType === 'Brand') setSelectedBrand(value);
                else if (filterType === 'Corporate') setSelectedCorporate(value);
                else if (filterType === 'Molecule') setSelectedMolecule(value);
            };

            const clearFilters = () => {
                setSelectedCategory('All');
                setSelectedBrand('All');
                setSelectedCorporate('All');
                setSelectedMolecule('All');
            };

            const filteredData = useMemo(() => {
                return data.filter(row => (
                    (selectedCategory === 'All' || row.Category === selectedCategory) &&
                    (selectedBrand === 'All' || row.Brands === selectedBrand) &&
                    (selectedCorporate === 'All' || row.Corporate === selectedCorporate) &&
                    (selectedMolecule === 'All' || row.Molecule === selectedMolecule)
                )).sort((a, b) => (parseFloat(b['Value 25']) || 0) - (parseFloat(a['Value 25']) || 0));
            }, [data, selectedCategory, selectedBrand, selectedCorporate, selectedMolecule]);

            const aggregateTop5 = (data, groupKey, valueKey1, valueKey2 = null) => {
                const grouped = {};
                data.forEach(row => {
                    const keyValue = row[groupKey] || 'Unknown';
                    if (!grouped[keyValue]) grouped[keyValue] = { value1: 0, value2: 0 };
                    grouped[keyValue].value1 += parseFloat(row[valueKey1]) || 0;
                    if (valueKey2) grouped[keyValue].value2 += parseFloat(row[valueKey2]) || 0;
                });
                return Object.keys(grouped).map(key => ({
                    name: key,
                    value1: grouped[key].value1,
                    value2: grouped[key].value2
                })).sort((a, b) => b.value1 - a.value1).slice(0, 5);
            };

            const formatNumber = (num) => {
                if (isNaN(num)) return '0';
                if (num >= 1e9) return (num / 1e9).toFixed(1) + 'B';
                if (num >= 1e6) return (num / 1e6).toFixed(1) + 'M';
                if (num >= 1e3) return (num / 1e3).toFixed(1) + 'K';
                return num.toFixed(0);
            };

            const handleChartClick = (data, filterType) => {
                if (data && data.activeLabel) {
                    handleFilterChange(data.activeLabel, filterType);
                }
            };

            const handleTableRowClick = (row, filterType) => {
                handleFilterChange(row[filterType], filterType);
            };

            if (error) return <div className="text-center text-2xl text-red-500">{error}</div>;
            if (loading) return <div className="text-center text-2xl text-white">Loading...</div>;

            return (
                <div className={`min-h-screen ${themes[theme].background} ${themes[theme].text} p-4 sm:p-6 md:p-8`}>
                    <div className="max-w-7xl mx-auto">
                        <div className="flex justify-between items-center mb-6">
                            <h1 className="text-2xl sm:text-3xl font-bold">Pharma Market Analysis - MAT May 2025</h1>
                            <select
                                value={theme}
                                onChange={(e) => setTheme(e.target.value)}
                                className={`p-2 rounded ${themes[theme].select}`}
                            >
                                <option value="dark">Dark Theme</option>
                                <option value="light">Light Theme</option>
                                <option value="neon">Neon Theme</option>
                            </select>
                        </div>

                        <div className="flex flex-wrap gap-4 mb-6">
                            <SearchableDropdown
                                label="Category"
                                options={categories}
                                value={selectedCategory}
                                onChange={handleFilterChange}
                                name="Category"
                            />
                            <SearchableDropdown
                                label="Brand"
                                options={brands}
                                value={selectedBrand}
                                onChange={handleFilterChange}
                                name="Brand"
                            />
                            <SearchableDropdown
                                label="Corporate"
                                options={corporates}
                                value={selectedCorporate}
                                onChange={handleFilterChange}
                                name="Corporate"
                            />
                            <SearchableDropdown
                                label="Molecule"
                                options={molecules}
                                value={selectedMolecule}
                                onChange={handleFilterChange}
                                name="Molecule"
                            />
                            <button
                                onClick={clearFilters}
                                className={`px-4 py-2 rounded font-bold ${themes[theme].button}`}
                            >
                                Clear Filters
                            </button>
                        </div>

                        <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                            <div className="glassmorphic p-4">
                                <h2 className="text-lg font-semibold mb-2">Total Value (2025)</h2>
                                <p className="text-2xl">{formatNumber(filteredData.reduce((sum, row) => sum + (parseFloat(row['Value 25']) || 0), 0))}</p>
                            </div>
                            <div className="glassmorphic p-4">
                                <h2 className="text-lg font-semibold mb-2">Total Units (2025)</h2>
                                <p className="text-2xl">{formatNumber(filteredData.reduce((sum, row) => sum + (parseFloat(row['Unit 25']) || 0), 0))}</p>
                            </div>
                            <div className="glassmorphic p-4">
                                <h2 className="text-lg font-semibold mb-2">Average Share (2025)</h2>
                                <p className="text-2xl">{(filteredData.reduce((sum, row) => sum + (parseFloat(row['Share 25']) || 0), 0) / (filteredData.length || 1)).toFixed(2)}%</p>
                            </div>
                            <div className="glassmorphic p-4">
                                <h2 className="text-lg font-semibold mb-2">Average Growth (2025)</h2>
                                <p className="text-2xl">{(filteredData.reduce((sum, row) => sum + (parseFloat(row['Growth Value 25']) || 0), 0) / (filteredData.length || 1)).toFixed(2)}%</p>
                            </div>
                        </div>

                        <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <div className="glassmorphic">
                                <h2 className="text-lg font-semibold mb-2">Top 5 Corporates (Value)</h2>
                                <ResponsiveContainer width="100%" height={350}>
                                    <BarChart data={aggregateTop5(filteredData, 'Corporate', 'Value 25', 'Value 24')} onClick={(data) => handleChartClick(data, 'Corporate')}>
                                        <CartesianGrid strokeDasharray="3 3" stroke="rgba(255, 255, 255, 0.3)" />
                                        <XAxis dataKey="name" stroke="#ffffff" fontSize={12} angle={-45} textAnchor="end" height={60} />
                                        <YAxis stroke="#ffffff" fontSize={12} tickFormatter={formatNumber} />
                                        <Tooltip formatter={formatNumber} contentStyle={{ background: 'rgba(255, 255, 255, 0.1)', border: 'none', borderRadius: '8px' }} />
                                        <Legend />
                                        <Bar dataKey="value1" name="Value 2025" fill="#ffd700" className="chart-bar">
                                            <LabelList dataKey="value1" position="top" formatter={formatNumber} fill="#ffffff" fontSize={12} />
                                        </Bar>
                                        <Bar dataKey="value2" name="Value 2024" fill="#8b5cf6" className="chart-bar">
                                            <LabelList dataKey="value2" position="top" formatter={formatNumber} fill="#ffffff" fontSize={12} />
                                        </Bar>
                                    </BarChart>
                                </ResponsiveContainer>
                            </div>
                            <div className="glassmorphic">
                                <h2 className="text-lg font-semibold mb-2">Top 5 Corporates (Unit)</h2>
                                <ResponsiveContainer width="100%" height={350}>
                                    <BarChart data={aggregateTop5(filteredData, 'Corporate', 'Unit 25', 'Unit 24')} onClick={(data) => handleChartClick(data, 'Corporate')}>
                                        <CartesianGrid strokeDasharray="3 3" stroke="rgba(255, 255, 255, 0.3)" />
                                        <XAxis dataKey="name" stroke="#ffffff" fontSize={12} angle={-45} textAnchor="end" height={60} />
                                        <YAxis stroke="#ffffff" fontSize={12} tickFormatter={formatNumber} />
                                        <Tooltip formatter={formatNumber} contentStyle={{ background: 'rgba(255, 255, 255, 0.1)', border: 'none', borderRadius: '8px' }} />
                                        <Legend />
                                        <Bar dataKey="value1" name="Unit 2025" fill="#ffd700" className="chart-bar">
                                            <LabelList dataKey="value1" position="top" formatter={formatNumber} fill="#ffffff" fontSize={12} />
                                        </Bar>
                                        <Bar dataKey="value2" name="Unit 2024" fill="#8b5cf6" className="chart-bar">
                                            <LabelList dataKey="value2" position="top" formatter={formatNumber} fill="#ffffff" fontSize={12} />
                                        </Bar>
                                    </BarChart>
                                </ResponsiveContainer>
                            </div>
                            <div className="glassmorphic">
                                <h2 className="text-lg font-semibold mb-2">Top 5 Brands (Value)</h2>
                                <ResponsiveContainer width="100%" height={350}>
                                    <BarChart data={aggregateTop5(filteredData, 'Brands', 'Value 25', 'Value 24')} onClick={(data) => handleChartClick(data, 'Brand')}>
                                        <CartesianGrid strokeDasharray="3 3" stroke="rgba(255, 255, 255, 0.3)" />
                                        <XAxis dataKey="name" stroke="#ffffff" fontSize={12} angle={-45} textAnchor="end" height={60} />
                                        <YAxis stroke="#ffffff" fontSize={12} tickFormatter={formatNumber} />
                                        <Tooltip formatter={formatNumber} contentStyle={{ background: 'rgba(255, 255, 255, 0.1)', border: 'none', borderRadius: '8px' }} />
                                        <Legend />
                                        <Bar dataKey="value1" name="Value 2025" fill="#ffd700" className="chart-bar">
                                            <LabelList dataKey="value1" position="top" formatter={formatNumber} fill="#ffffff" fontSize={12} />
                                        </Bar>
                                        <Bar dataKey="value2" name="Value 2024" fill="#8b5cf6" className="chart-bar">
                                            <LabelList dataKey="value2" position="top" formatter={formatNumber} fill="#ffffff" fontSize={12} />
                                        </Bar>
                                    </BarChart>
                                </ResponsiveContainer>
                            </div>
                            <div className="glassmorphic">
                                <h2 className="text-lg font-semibold mb-2">Top 5 Brands (Unit)</h2>
                                <ResponsiveContainer width="100%" height={350}>
                                    <BarChart data={aggregateTop5(filteredData, 'Brands', 'Unit 25', 'Unit 24')} onClick={(data) => handleChartClick(data, 'Brand')}>
                                        <CartesianGrid strokeDasharray="3 3" stroke="rgba(255, 255, 255, 0.3)" />
                                        <XAxis dataKey="name" stroke="#ffffff" fontSize={12} angle={-45} textAnchor="end" height={60} />
                                        <YAxis stroke="#ffffff" fontSize={12} tickFormatter={formatNumber} />
                                        <Tooltip formatter={formatNumber} contentStyle={{ background: 'rgba(255, 255, 255, 0.1)', border: 'none', borderRadius: '8px' }} />
                                        <Legend />
                                        <Bar dataKey="value1" name="Unit 2025" fill="#ffd700" className="chart-bar">
                                            <LabelList dataKey="value1" position="top" formatter={formatNumber} fill="#ffffff" fontSize={12} />
                                        </Bar>
                                        <Bar dataKey="value2" name="Unit 2024" fill="#8b5cf6" className="chart-bar">
                                            <LabelList dataKey="value2" position="top" formatter={formatNumber} fill="#ffffff" fontSize={12} />
                                        </Bar>
                                    </BarChart>
                                </ResponsiveContainer>
                            </div>
                            <div className="glassmorphic">
                                <h2 className="text-lg font-semibold mb-2">Top 5 Categories (Value)</h2>
                                <ResponsiveContainer width="100%" height={350}>
                                    <BarChart data={aggregateTop5(filteredData, 'Category', 'Value 25', 'Value 24')} onClick={(data) => handleChartClick(data, 'Category')}>
                                        <CartesianGrid strokeDasharray="3 3" stroke="rgba(255, 255, 255, 0.3)" />
                                        <XAxis dataKey="name" stroke="#ffffff" fontSize={12} angle={-45} textAnchor="end" height={60} />
                                        <YAxis stroke="#ffffff" fontSize={12} tickFormatter={formatNumber} />
                                        <Tooltip formatter={formatNumber} contentStyle={{ background: 'rgba(255, 255, 255, 0.1)', border: 'none', borderRadius: '8px' }} />
                                        <Legend />
                                        <Bar dataKey="value1" name="Value 2025" fill="#ffd700" className="chart-bar">
                                            <LabelList dataKey="value1" position="top" formatter={formatNumber} fill="#ffffff" fontSize={12} />
                                        </Bar>
                                        <Bar dataKey="value2" name="Value 2024" fill="#8b5cf6" className="chart-bar">
                                            <LabelList dataKey="value2" position="top" formatter={formatNumber} fill="#ffffff" fontSize={12} />
                                        </Bar>
                                    </BarChart>
                                </ResponsiveContainer>
                            </div>
                            <div className="glassmorphic">
                                <h2 className="text-lg font-semibold mb-2">Top 5 Categories (Unit)</h2>
                                <ResponsiveContainer width="100%" height={350}>
                                    <BarChart data={aggregateTop5(filteredData, 'Category', 'Unit 25', 'Unit 24')} onClick={(data) => handleChartClick(data, 'Category')}>
                                        <CartesianGrid strokeDasharray="3 3" stroke="rgba(255, 255, 255, 0.3)" />
                                        <XAxis dataKey="name" stroke="#ffffff" fontSize={12} angle={-45} textAnchor="end" height={60} />
                                        <YAxis stroke="#ffffff" fontSize={12} tickFormatter={formatNumber} />
                                        <Tooltip formatter={formatNumber} contentStyle={{ background: 'rgba(255, 255, 255, 0.1)', border: 'none', borderRadius: '8px' }} />
                                        <Legend />
                                        <Bar dataKey="value1" name="Unit 2025" fill="#ffd700" className="chart-bar">
                                            <LabelList dataKey="value1" position="top" formatter={formatNumber} fill="#ffffff" fontSize={12} />
                                        </Bar>
                                        <Bar dataKey="value2" name="Unit 2024" fill="#8b5cf6" className="chart-bar">
                                            <LabelList dataKey="value2" position="top" formatter={formatNumber} fill="#ffffff" fontSize={12} />
                                        </Bar>
                                    </BarChart>
                                </ResponsiveContainer>
                            </div>
                            <div className="glassmorphic">
                                <h2 className="text-lg font-semibold mb-2">Market Share by Top 5 Corporates</h2>
                                <ResponsiveContainer width="100%" height={350}>
                                    <PieChart>
                                        <Pie
                                            data={aggregateTop5(filteredData, 'Corporate', 'Share 25')}
                                            dataKey="value1"
                                            nameKey="name"
                                            cx="50%"
                                            cy="50%"
                                            outerRadius={100}
                                            label={({ name, percent }) => `${name} (${(percent * 100).toFixed(1)}%)`}
                                            labelLine={false}
                                            onClick={(data) => handleChartClick({ activeLabel: data.name }, 'Corporate')}
                                            className="chart-pie"
                                        >
                                            {aggregateTop5(filteredData, 'Corporate', 'Share 25').map((entry, index) => (
                                                <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />
                                            ))}
                                        </Pie>
                                        <Tooltip formatter={value => `${value.toFixed(2)}%`} contentStyle={{ background: 'rgba(255, 255, 255, 0.1)', border: 'none', borderRadius: '8px' }} />
                                        <Legend />
                                    </PieChart>
                                </ResponsiveContainer>
                            </div>
                            <div className="glassmorphic">
                                <h2 className="text-lg font-semibold mb-2">Growth Value by Top 5 Categories</h2>
                                <ResponsiveContainer width="100%" height={350}>
                                    <AreaChart data={aggregateTop5(filteredData, 'Category', 'Growth Value 25')} onClick={(data) => handleChartClick(data, 'Category')}>
                                        <CartesianGrid strokeDasharray="3 3" stroke="rgba(255, 255, 255, 0.3)" />
                                        <XAxis dataKey="name" stroke="#ffffff" fontSize={12} angle={-45} textAnchor="end" height={60} />
                                        <YAxis stroke="#ffffff" fontSize={12} tickFormatter={value => `${value.toFixed(1)}%`} />
                                        <Tooltip formatter={value => `${value.toFixed(2)}%`} contentStyle={{ background: 'rgba(255, 255, 255, 0.1)', border: 'none', borderRadius: '8px' }} />
                                        <Legend />
                                        <Area type="monotone" dataKey="value1" name="Growth Value 2025" fill="#10b981" stroke="#10b981" fillOpacity={0.4} className="chart-area">
                                            <LabelList dataKey="value1" position="top" formatter={value => `${value.toFixed(1)}%`} fill="#ffffff" fontSize={12} />
                                        </Area>
                                    </AreaChart>
                                </ResponsiveContainer>
                            </div>
                        </div>

                        <div className="glassmorphic mt-6 overflow-auto max-h-[400px]">
                            <h2 className="text-lg font-semibold mb-2">All Entries</h2>
                            <table className="w-full border-collapse">
                                <thead>
                                    <tr className="bg-white/15 sticky top-0">
                                        <th className="p-3 text-left">Category</th>
                                        <th className="p-3 text-left">Brand</th>
                                        <th className="p-3 text-left">Corporate</th>
                                        <th className="p-3 text-left">Molecule</th>
                                        <th className="p-3 text-left">Value 2025</th>
                                        <th className="p-3 text-left">Share 2025</th>
                                        <th className="p-3 text-left">Growth 2025</th>
                                        <th className="p-3 text-left">Units 2025</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {filteredData.map((row, index) => (
                                        <tr
                                            key={index}
                                            className="table-row border-b border-white/20"
                                            onClick={() => handleTableRowClick(row, 'Brand')}
                                        >
                                            <td className="p-3">{row.Category || 'N/A'}</td>
                                            <td className="p-3">{row.Brands || 'N/A'}</td>
                                            <td className="p-3">{row.Corporate || 'N/A'}</td>
                                            <td className="p-3">{row.Molecule || 'N/A'}</td>
                                            <td className="p-3">{formatNumber(parseFloat(row['Value 25']) || 0)}</td>
                                            <td className="p-3">{(parseFloat(row['Share 25']) || 0).toFixed(2)}%</td>
                                            <td className="p-3">{(parseFloat(row['Growth Value 25']) || 0).toFixed(2)}%</td>
                                            <td className="p-3">{formatNumber(parseFloat(row['Unit 25']) || 0)}</td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>

                        <div className="glassmorphic p-4 mt-6">
                            <h2 className="text-lg font-semibold mb-2">Interesting Fact</h2>
                            <p>
                                Did you know? The pharmaceutical market is evolving rapidly, with top brands driving significant growth in their respective categories.
                            </p>
                        </div>
                    </div>
                </div>
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<Dashboard />);
    </script>
</body>
</html>
